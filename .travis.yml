language: python
python:
- '2.7'
- '3.2'
- '3.3'
- '3.4'
- '3.5'
install:
- pip install coveralls
- pip install 'coverage<4'
- pip install setuptools
script: nosetests -v --with-doctest --with-coverage --cover-package=sudokutools
after_success: coveralls
deploy:
  provider: pypi
  server: https://upload.pypi.org/legacy/
  # Work around broken deploy on travis.
  # See: https://github.com/travis-ci/travis-ci/issues/9303
  edge:
    branch: v1.8.45
  user: messersm
  password:
    secure: lLmNH/k2oTDqvU6Bs63xwaJOxUWC/olfwVQ07pxspbxOABz52o2U3tbbrIEOhmVtYUOJx7eB9Z6hbCk8kLtghKJjVASmPNn35JlgdQ15E1ztyUz0ezbf0FdpOXwDaBFpFhtUQxU3RGr2ihV+mYZQmobEmCyYYR4klmYxxMdKLAIh8T5dAiuvkStAcpTxjzeHlx+onFjmlJl6GKbNHebvSOgPc+deiv3OcI5bpcsJIWdqxi6KeWlakbMBbjo9x4UFrU+dFmg+Z6ZcQ4n76oodoYw+brfVMD5Mky/kzlAerUowDbrRkMFO7ZbMohnz74wj/Uu+W9x8Qdai9EIvcHALJQZPZrugExmXzrImjjhTBs61EJkGBeNkUxd6rgpG5sSX2SWshe8zUv9NjfvYYaYnkLwmJGL5NwZqHGb+QEfIyY+6Bir4fdrSyMi3Xm/sB4j+SJb6zf2M0GlXHtOsNkg1urIY7rx/x/ZkKg+eEce4JmNVrflluLBlpkRzr3sSegphqbdQARXpOrxl13Xk4zdhlw349Bprsqd/uGXp0G7zSQ1p57KiMx9D9Ha/yqb+o5PuZAYTkP6BRGG6kvjErjpdFjH37HFCTykQ6bViAMHF/y3gkV4yFCQ3i2tB/L8QTbJFKCJYvWQ0jDrZHThqIvbJ5nDb1cyc5PeTIKjs4ERDgWM=
  on:
    tags: true
    distributions: sdist bdist_wheel
    repo: messersm/sudokutools
